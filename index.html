
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø¨ÙŠØ§Ù† Ø´ÙˆØ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial; direction: rtl; margin: 0; background: #f4f4f4; }
    .header { background: #222; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    .main { padding: 20px; }
    .hidden { display: none; }
    .product-image { max-width: 260px; max-height: 260px; cursor: pointer; border-radius: 5px; }
    button { padding: 8px 15px; margin-top: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .remove-btn { background: #dc3545; }
    input, select { padding: 8px; margin-top: 5px; width: 100%; border: 1px solid #ccc; border-radius: 5px; }
    .box { background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  </style>
</head>
<body>

<div class="header">
  <div><strong>ğŸ›ï¸ Ø¨ÙŠØ§Ù† Ø´ÙˆØ¨</strong></div>
  <div><button onclick="showAdminLogin()">ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±Ù</button></div>
</div>

<div class="main">
  <div id="customerView">
    <div class="box">
      <h2>Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</h2>
      <div id="productList"></div>
    </div>
    <div class="box">
      <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
      <div id="cartList"></div>
    </div>
    <div class="box">
      <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†</h3>
      <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
      <input type="text" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
      <input type="text" id="address" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† - Google Maps">
      <input type="text" id="manualAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙŠØ¯ÙˆÙŠ (Ù…Ø«Ø§Ù„: Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù…Ø¹Ø©)">
      <button onclick="submitOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
    </div>
  </div>

  <div id="adminLogin" class="hidden">
    <div class="box">
      <h3>ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø´Ø±Ù</h3>
      <input type="password" id="adminPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
      <button onclick="verifyAdmin()">Ø¯Ø®ÙˆÙ„</button>
    </div>
  </div>

  <div id="adminView" class="hidden">
    <div class="box">
      <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù</h2>
      <div id="orderList"></div>
    </div>
  </div>
</div>

<!-- Ù†Ø§ÙØ°Ø© Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± -->
<div id="imageModal" style="display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.8);">
  <span onclick="document.getElementById('imageModal').style.display='none'" style="position:absolute; top:20px; right:30px; color:white; font-size:30px; cursor:pointer;">&times;</span>
  <img id="modalImage" style="margin:auto; display:block; max-width:95%; max-height:95%; margin-top:5%;">
</div>

<script>
  const products = [
    { id: 1, name: "ÙØ³ØªØ§Ù† ÙˆØ±Ø¯ÙŠ", price: 80, color: "ÙˆØ±Ø¯ÙŠ", fabric: "Ù‚Ø·Ù†", size: "M", image: "https://i.imgur.com/U5gXqzo.jpg" },
    { id: 2, name: "Ø´ÙŠÙ„Ø© Ø£Ù†ÙŠÙ‚Ø©", price: 50, color: "Ø£Ø³ÙˆØ¯", fabric: "Ø­Ø±ÙŠØ±", size: "Ø­Ø±", image: "https://i.imgur.com/zlZVpAK.jpg" },
    { id: 3, name: "Ø¹Ø¨Ø§ÙŠØ© ÙƒØ§Ø¬ÙˆØ§Ù„", price: 95, color: "Ø£Ø¨ÙŠØ¶", fabric: "Ø´ÙŠÙÙˆÙ†", size: "L", image: "https://i.imgur.com/6NMRUrj.jpg" },
  ];
  let cart = [];

  function showImageModal(src) {
    document.getElementById('modalImage').src = src;
    document.getElementById('imageModal').style.display = 'block';
  }

  function renderProducts() {
    const list = document.getElementById("productList");
    list.innerHTML = "";
    products.forEach(p => {
      list.innerHTML += `
        <div style="margin-bottom:15px">
          <img src="${p.image}" class="product-image" onclick="showImageModal('${p.image}')">
          <p><strong>${p.name}</strong></p>
          <p>Ø§Ù„Ø³Ø¹Ø±: ${p.price} Ø¯.Ù„</p>
          <p>Ø§Ù„Ù„ÙˆÙ†: ${p.color} | Ø§Ù„Ù‚Ù…Ø§Ø´: ${p.fabric} | Ø§Ù„Ù…Ù‚Ø§Ø³: ${p.size}</p>
          <button onclick="addToCart(${p.id})">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
      `;
    });
  }

  function renderCart() {
    const list = document.getElementById("cartList");
    list.innerHTML = "";
    if (cart.length === 0) {
      list.innerHTML = "<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>";
    } else {
      cart.forEach((item, i) => {
        list.innerHTML += `<p>${item.name} - ${item.price} Ø¯.Ù„ 
          <button class="remove-btn" onclick="removeFromCart(${i})">Ø¥Ø²Ø§Ù„Ø©</button></p>`;
      });
      const total = cart.reduce((sum, p) => sum + p.price, 0) + 15;
      list.innerHTML += `<p><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ù…Ø¹ Ø§Ù„ØªÙˆØµÙŠÙ„): ${total} Ø¯.Ù„</strong></p>`;
    }
  }

  function addToCart(id) {
    const p = products.find(x => x.id === id);
    cart.push(p);
    renderCart();
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    renderCart();
  }

  function submitOrder() {
    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const address = document.getElementById("address").value.trim();
    const manual = document.getElementById("manualAddress").value.trim();

    if (!name || !phone || !address || !manual || cart.length === 0) {
      alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª");
      return;
    }
    if (!/^[0-9]{10}$/.test(phone)) {
      alert("ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù…");
      return;
    }

    const order = {
      name, phone, address, manual,
      items: cart, total: cart.reduce((a,b)=>a+b.price, 0) + 15
    };
    const key = `${name}-${phone}-${address}`;
    localStorage.setItem(key, JSON.stringify(order));
    alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ØŒ Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹");
    cart = [];
    renderCart();
  }

  function showAdminLogin() {
    document.getElementById("customerView").style.display = "none";
    document.getElementById("adminLogin").style.display = "block";
  }

  function verifyAdmin() {
    const pass = document.getElementById("adminPass").value;
    if (pass === "LEYO123123") {
      document.getElementById("adminLogin").style.display = "none";
      document.getElementById("adminView").style.display = "block";
      renderOrders();
    } else {
      alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©");
    }
  }

  function renderOrders() {
    const list = document.getElementById("orderList");
    list.innerHTML = "";
    Object.keys(localStorage).forEach(k => {
      if (k.includes("-") && localStorage.getItem(k).includes("items")) {
        const order = JSON.parse(localStorage.getItem(k));
        list.innerHTML += `
          <div class="box">
            <p><strong>ğŸ‘¤ ${order.name}</strong></p>
            <p>ğŸ“ ${order.phone}</p>
            <p>ğŸŒ <a href="${order.address}" target="_blank">Ø±Ø§Ø¨Ø· Google Maps</a></p>
            <p>ğŸ“ ${order.manual}</p>
            <p>ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${order.total} Ø¯.Ù„</p>
            <p>ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</p>
            <ul>${order.items.map(i => `<li>${i.name} - ${i.price} Ø¯.Ù„</li>`).join("")}</ul>
          </div>
        `;
      }
    });
  }

  renderProducts();
  renderCart();
</script>

</body>
</html>
